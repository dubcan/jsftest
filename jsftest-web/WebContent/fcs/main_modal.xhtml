<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title>Main modal page</title>
</h:head>
<h:body>
	<h2>Main modal page. Random generated button present here, than opens modal window</h2>
	<h:form>
		<h:commandButton style="width: 420px" type="button" id="modalButton"
			value="#{modal.randButtonTitle}"
			onclick="showModal(this.value); return false;">
		</h:commandButton>
		<script language="javascript">
			function showModal(buttonLabel) {
				
				//var buttonLabel = "get button label from DOM";
				console.log("buttonLabel = " + buttonLabel);
				var reportUrl = window.showModalDialog(
						'/jsftest-web/fcs/' + getModalPageName(buttonLabel) + '.xhtml', '',
						'dialogWidth:600px;dialogHeight:620px');
				if (reportUrl !== undefined) {
					window.open('' + reportUrl);
				}
			}
			
			function getModalPageName(buttonTitle) {
				switch (buttonTitle) {
				  case "Foo":
					  return "foo_modal";
				  case "Bar":
					  return "bar_modal";
				  case "Baz":
					  return "baz_modal";
				  default:
				    alert('Unknown button')
				}
				
			}
			
		</script>
	</h:form>

</h:body>

</html>